{
  "_format": "hh-sol-artifact-1",
  "contractName": "MediChain",
  "sourceName": "contracts/MediChain.sol",
  "abi": [
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "patient",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "doctor",
          "type": "address"
        }
      ],
      "name": "AccessApproved",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "doctor",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "patient",
          "type": "address"
        }
      ],
      "name": "AccessRequested",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "patient",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "ipfsHash",
          "type": "string"
        }
      ],
      "name": "RecordUploaded",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "accessRequests",
      "outputs": [
        {
          "internalType": "bool",
          "name": "approved",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "doctor",
          "type": "address"
        }
      ],
      "name": "approveAccess",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "patient",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "doctor",
          "type": "address"
        }
      ],
      "name": "checkAccess",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getMyRecords",
      "outputs": [
        {
          "components": [
            {
              "internalType": "string",
              "name": "ipfsHash",
              "type": "string"
            },
            {
              "internalType": "address",
              "name": "uploadedBy",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "timestamp",
              "type": "uint256"
            }
          ],
          "internalType": "struct MediChain.MedicalRecord[]",
          "name": "",
          "type": "tuple[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "patient",
          "type": "address"
        }
      ],
      "name": "getRecordsOfPatient",
      "outputs": [
        {
          "components": [
            {
              "internalType": "string",
              "name": "ipfsHash",
              "type": "string"
            },
            {
              "internalType": "address",
              "name": "uploadedBy",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "timestamp",
              "type": "uint256"
            }
          ],
          "internalType": "struct MediChain.MedicalRecord[]",
          "name": "",
          "type": "tuple[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "patient",
          "type": "address"
        }
      ],
      "name": "requestAccess",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "ipfsHash",
          "type": "string"
        }
      ],
      "name": "uploadRecord",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50610a8b806100206000396000f3fe608060405234801561001057600080fd5b506004361061007d5760003560e01c80637dee09f61161005b5780637dee09f6146100fb5780637fb869bb1461011b578063ab4f23291461012e578063e76637ce1461015c57600080fd5b8063022cb2711461008257806362e1f74514610097578063705211f4146100e8575b600080fd5b610095610090366004610737565b610164565b005b6100d36100a5366004610759565b6001600160a01b03918216600090815260016020908152604080832093909416825291909152205460ff1690565b60405190151581526020015b60405180910390f35b6100956100f6366004610737565b610291565b61010e610109366004610737565b61033f565b6040516100df919061078c565b610095610129366004610855565b6104c8565b6100d361013c366004610759565b600160209081526000928352604080842090915290825290205460ff1681565b61010e6105fe565b6001600160a01b03811633036101c15760405162461bcd60e51b815260206004820152601860248201527f53656c662d72657175657374206e6f7420616c6c6f776564000000000000000060448201526064015b60405180910390fd5b6001600160a01b038116600090815260016020908152604080832033845290915290205460ff16156102285760405162461bcd60e51b815260206004820152601060248201526f105b1c9958591e48185c1c1c9bdd995960821b60448201526064016101b8565b604080516020808201835260008083526001600160a01b038516808252600183528482203380845293528482209351845460ff1916901515179093559251919290917f40c7749b16fdfb0d550f20273a7767875059d647af94f5a9610c63ad73dcc79f9190a350565b3360008181526001602090815260408083206001600160a01b03861684529091529020805460ff16156102f95760405162461bcd60e51b815260206004820152601060248201526f105b1c9958591e48185c1c1c9bdd995960821b60448201526064016101b8565b805460ff191660011781556040516001600160a01b0384169033907fe6334627d2d1b816244f24397d90a02beea6f06a64333958f2fca9a73f84266d90600090a3505050565b6001600160a01b038116600090815260016020908152604080832033845290915290205460609060ff166103a55760405162461bcd60e51b815260206004820152600d60248201526c1058d8d95cdcc819195b9a5959609a1b60448201526064016101b8565b6001600160a01b03821660009081526020818152604080832080548251818502810185019093528083529193909284015b828210156104bd5783829060005260206000209060030201604051806060016040529081600082018054610409906108c7565b80601f0160208091040260200160405190810160405280929190818152602001828054610435906108c7565b80156104825780601f1061045757610100808354040283529160200191610482565b820191906000526020600020905b81548152906001019060200180831161046557829003601f168201915b50505091835250506001828101546001600160a01b0316602080840191909152600290930154604090920191909152918352920191016103d6565b505050509050919050565b806105095760405162461bcd60e51b8152602060048201526011602482015270092dcecc2d8d2c84092a08ca640d0c2e6d607b1b60448201526064016101b8565b336000908152602081815260409182902082516080601f86018490049093028101830190935260608301848152909291829190869086908190850183828082843760009201829052509385525050336020808501919091524260409094019390935250835460018101855593815220815191926003020190819061058d9082610966565b5060208201516001820180546001600160a01b0319166001600160a01b039092169190911790556040918201516002909101555133907f01b64c1967d10407b4ff97725353edea760930f8e25d265e786a16eecbe4d7f7906105f29085908590610a26565b60405180910390a25050565b33600090815260208181526040808320805482518185028101850190935280835260609492939192909184015b82821015610712578382906000526020600020906003020160405180606001604052908160008201805461065e906108c7565b80601f016020809104026020016040519081016040528092919081815260200182805461068a906108c7565b80156106d75780601f106106ac576101008083540402835291602001916106d7565b820191906000526020600020905b8154815290600101906020018083116106ba57829003601f168201915b50505091835250506001828101546001600160a01b03166020808401919091526002909301546040909201919091529183529201910161062b565b50505050905090565b80356001600160a01b038116811461073257600080fd5b919050565b60006020828403121561074957600080fd5b6107528261071b565b9392505050565b6000806040838503121561076c57600080fd5b6107758361071b565b91506107836020840161071b565b90509250929050565b60006020808301818452808551808352604092508286019150828160051b8701018488016000805b8481101561084657603f198a8503018652825160608151818752805180838901528592505b808310156107f7578183018c015188840160800152918b01916107d9565b608092508583828a0101528b840151915061081c8c8901836001600160a01b03169052565b928a0151878b01525096890196601f91909101601f191690940190930192918701916001016107b4565b50919998505050505050505050565b6000806020838503121561086857600080fd5b823567ffffffffffffffff8082111561088057600080fd5b818501915085601f83011261089457600080fd5b8135818111156108a357600080fd5b8660208285010111156108b557600080fd5b60209290920196919550909350505050565b600181811c908216806108db57607f821691505b6020821081036108fb57634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052604160045260246000fd5b601f82111561096157600081815260208120601f850160051c8101602086101561093e5750805b601f850160051c820191505b8181101561095d5782815560010161094a565b5050505b505050565b815167ffffffffffffffff81111561098057610980610901565b6109948161098e84546108c7565b84610917565b602080601f8311600181146109c957600084156109b15750858301515b600019600386901b1c1916600185901b17855561095d565b600085815260208120601f198616915b828110156109f8578886015182559484019460019091019084016109d9565b5085821015610a165787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b60208152816020820152818360408301376000818301604090810191909152601f909201601f1916010191905056fea26469706673582212208706cf42bd6c02e9fe2dca7458ba15b144f5bc359c6d0ae978e16df0150e7bff64736f6c63430008140033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b506004361061007d5760003560e01c80637dee09f61161005b5780637dee09f6146100fb5780637fb869bb1461011b578063ab4f23291461012e578063e76637ce1461015c57600080fd5b8063022cb2711461008257806362e1f74514610097578063705211f4146100e8575b600080fd5b610095610090366004610737565b610164565b005b6100d36100a5366004610759565b6001600160a01b03918216600090815260016020908152604080832093909416825291909152205460ff1690565b60405190151581526020015b60405180910390f35b6100956100f6366004610737565b610291565b61010e610109366004610737565b61033f565b6040516100df919061078c565b610095610129366004610855565b6104c8565b6100d361013c366004610759565b600160209081526000928352604080842090915290825290205460ff1681565b61010e6105fe565b6001600160a01b03811633036101c15760405162461bcd60e51b815260206004820152601860248201527f53656c662d72657175657374206e6f7420616c6c6f776564000000000000000060448201526064015b60405180910390fd5b6001600160a01b038116600090815260016020908152604080832033845290915290205460ff16156102285760405162461bcd60e51b815260206004820152601060248201526f105b1c9958591e48185c1c1c9bdd995960821b60448201526064016101b8565b604080516020808201835260008083526001600160a01b038516808252600183528482203380845293528482209351845460ff1916901515179093559251919290917f40c7749b16fdfb0d550f20273a7767875059d647af94f5a9610c63ad73dcc79f9190a350565b3360008181526001602090815260408083206001600160a01b03861684529091529020805460ff16156102f95760405162461bcd60e51b815260206004820152601060248201526f105b1c9958591e48185c1c1c9bdd995960821b60448201526064016101b8565b805460ff191660011781556040516001600160a01b0384169033907fe6334627d2d1b816244f24397d90a02beea6f06a64333958f2fca9a73f84266d90600090a3505050565b6001600160a01b038116600090815260016020908152604080832033845290915290205460609060ff166103a55760405162461bcd60e51b815260206004820152600d60248201526c1058d8d95cdcc819195b9a5959609a1b60448201526064016101b8565b6001600160a01b03821660009081526020818152604080832080548251818502810185019093528083529193909284015b828210156104bd5783829060005260206000209060030201604051806060016040529081600082018054610409906108c7565b80601f0160208091040260200160405190810160405280929190818152602001828054610435906108c7565b80156104825780601f1061045757610100808354040283529160200191610482565b820191906000526020600020905b81548152906001019060200180831161046557829003601f168201915b50505091835250506001828101546001600160a01b0316602080840191909152600290930154604090920191909152918352920191016103d6565b505050509050919050565b806105095760405162461bcd60e51b8152602060048201526011602482015270092dcecc2d8d2c84092a08ca640d0c2e6d607b1b60448201526064016101b8565b336000908152602081815260409182902082516080601f86018490049093028101830190935260608301848152909291829190869086908190850183828082843760009201829052509385525050336020808501919091524260409094019390935250835460018101855593815220815191926003020190819061058d9082610966565b5060208201516001820180546001600160a01b0319166001600160a01b039092169190911790556040918201516002909101555133907f01b64c1967d10407b4ff97725353edea760930f8e25d265e786a16eecbe4d7f7906105f29085908590610a26565b60405180910390a25050565b33600090815260208181526040808320805482518185028101850190935280835260609492939192909184015b82821015610712578382906000526020600020906003020160405180606001604052908160008201805461065e906108c7565b80601f016020809104026020016040519081016040528092919081815260200182805461068a906108c7565b80156106d75780601f106106ac576101008083540402835291602001916106d7565b820191906000526020600020905b8154815290600101906020018083116106ba57829003601f168201915b50505091835250506001828101546001600160a01b03166020808401919091526002909301546040909201919091529183529201910161062b565b50505050905090565b80356001600160a01b038116811461073257600080fd5b919050565b60006020828403121561074957600080fd5b6107528261071b565b9392505050565b6000806040838503121561076c57600080fd5b6107758361071b565b91506107836020840161071b565b90509250929050565b60006020808301818452808551808352604092508286019150828160051b8701018488016000805b8481101561084657603f198a8503018652825160608151818752805180838901528592505b808310156107f7578183018c015188840160800152918b01916107d9565b608092508583828a0101528b840151915061081c8c8901836001600160a01b03169052565b928a0151878b01525096890196601f91909101601f191690940190930192918701916001016107b4565b50919998505050505050505050565b6000806020838503121561086857600080fd5b823567ffffffffffffffff8082111561088057600080fd5b818501915085601f83011261089457600080fd5b8135818111156108a357600080fd5b8660208285010111156108b557600080fd5b60209290920196919550909350505050565b600181811c908216806108db57607f821691505b6020821081036108fb57634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052604160045260246000fd5b601f82111561096157600081815260208120601f850160051c8101602086101561093e5750805b601f850160051c820191505b8181101561095d5782815560010161094a565b5050505b505050565b815167ffffffffffffffff81111561098057610980610901565b6109948161098e84546108c7565b84610917565b602080601f8311600181146109c957600084156109b15750858301515b600019600386901b1c1916600185901b17855561095d565b600085815260208120601f198616915b828110156109f8578886015182559484019460019091019084016109d9565b5085821015610a165787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b60208152816020820152818360408301376000818301604090810191909152601f909201601f1916010191905056fea26469706673582212208706cf42bd6c02e9fe2dca7458ba15b144f5bc359c6d0ae978e16df0150e7bff64736f6c63430008140033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
